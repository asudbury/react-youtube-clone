(this["webpackJsonpreact-youtube-clone"]=this["webpackJsonpreact-youtube-clone"]||[]).push([[0],{170:function(e,t,n){e.exports=n.p+"static/media/logo.88de2bf2.svg"},197:function(e,t,n){e.exports=n(374)},206:function(e,t,n){},207:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},351:function(e,t,n){},364:function(e,t,n){},365:function(e,t,n){},366:function(e,t,n){},367:function(e,t,n){},368:function(e,t,n){},369:function(e,t,n){},370:function(e,t,n){},371:function(e,t,n){},374:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(42),c=n.n(o),i=n(16),s=n(17),u=n(19),l=n(18),d=n(24),p=n(9),m="REQUEST",h="SUCCESS",v="FAILURE";function b(e){if(!e)throw new Error("cannot create request type with base = '' or base = null");return[m,h,v].reduce((function(t,n){return t[n]="".concat(e,"_").concat(n),t}),{})}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(p.a)({type:e},t)}var y=b("VIDEO_CATEGORIES"),E={request:function(){return f(y[m])},success:function(e){return f(y[h],{response:e})},failure:function(e){return f(y[v],{response:e})}},g=b("MOST_POPULAR"),O={request:function(e,t,n){return f(g[m],{amount:e,loadDescription:t,nextPageToken:n})},success:function(e){return f(g[h],{response:e})},failure:function(e){return f(g[v],{response:e})}},j=b("MOST_POPULAR_BY_CATEGORY"),k=function(e){return f(j[m],{categories:e})},C=function(e,t){return f(j[h],{response:e,categories:t})},w=function(e){return f(j[v],e)},x=(n(206),n(394)),I=n(54),T=(n(207),n(32)),L=n(20),N=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.shouldBeHighlighted()?"highlight-item":null;return r.a.createElement(T.b,{to:{pathname:this.props.path}},r.a.createElement(x.a.Item,{className:["sidebar-item",e].join(" ")},r.a.createElement("div",{className:"sidebar-item-alignment-container"},r.a.createElement("span",null,r.a.createElement(I.a,{size:"large",name:this.props.icon})," "),r.a.createElement("span",null,this.props.label))))}},{key:"shouldBeHighlighted",value:function(){var e=this.props.location.pathname;return"/"===this.props.path?e===this.props.path:e.includes(this.props.path)}}]),n}(r.a.Component),P=Object(L.f)(N),V=n(386);n(307),n(308);function S(e){var t=e.title?e.title.toUpperCase():"";return r.a.createElement(x.a.Item,null,r.a.createElement(x.a.Header,{className:"side-bar-header"},t))}var R=n(183);n(309);function D(e){var t=null,n=e.broadcasting,a=e.amountNewVideos;return n?t=r.a.createElement(I.a,{name:"signal"}):a&&(t=r.a.createElement("span",{className:"new-videos-count"},a)),r.a.createElement(x.a.Item,null,r.a.createElement("div",{className:"subscription"},r.a.createElement("div",null,r.a.createElement(R.a,{src:"https://via.placeholder.com/28x28",avatar:!0}),r.a.createElement("span",null,e.label)),t))}var A=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{title:"Subscriptions"}),r.a.createElement(D,{label:"MusicChannel",broadcasting:!0}),r.a.createElement(D,{label:"Coursea",amountNewVideos:10}),r.a.createElement(D,{label:"TEDx Talks",amountNewVideos:23}),r.a.createElement(D,{label:"Stanford iOS",amountNewVideos:4}),r.a.createElement(D,{label:"Udacity",amountNewVideos:114}),r.a.createElement(V.a,null))}}]),n}(r.a.Component);n(316);function M(){return r.a.createElement(r.a.Fragment,null)}var F=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(x.a,{borderless:!0,vertical:!0,stackable:!0,fixed:"left",className:"side-nav"},r.a.createElement(P,{path:"/",label:"Home",icon:"home"}),r.a.createElement(P,{path:"/feed/trending",label:"Trending",icon:"fire"}),r.a.createElement(P,{label:"Followers",icon:"spy"}),r.a.createElement(V.a,null),r.a.createElement(S,{title:"Library"}),r.a.createElement(P,{label:"History",icon:"history"}),r.a.createElement(P,{label:"Watch later",icon:"clock"}),r.a.createElement(P,{label:"Liked videos",icon:"thumbs up"}),r.a.createElement(V.a,null),r.a.createElement(A,null),r.a.createElement(S,{title:"More from Youtube"}),r.a.createElement(P,{label:"Movies and Shows",icon:"film"}),r.a.createElement(V.a,null),r.a.createElement(P,{label:"Report history",icon:"flag"}),r.a.createElement(P,{label:"Help",icon:"help circle"}),r.a.createElement(P,{label:"Send feedback",icon:"comment"}),r.a.createElement(V.a,null),r.a.createElement(M,null))}}]),n}(r.a.Component);n(317),n(318);function B(e){return r.a.createElement("div",{className:"video-grid-header"},r.a.createElement("span",{className:"title"},e.title))}n(319);var U=n(393),_=n(168),q=n.n(_),z=["K","M","B","T"];function G(e){for(var t=z.some((function(t,n){var a=Math.pow(1e3,n+1);return e>a&&e<a+10*a}))?1:0,n=z.length-1;n>=0;n--){var a=Math.pow(1e3,n+1);if(e>=a)return(e/a).toFixed(t)+z[n]}return e.toString()}var Y=["years","months","days","hours","minutes","seconds"],H="\\d+(?:[\\.,]\\d{0,3})?",Q="(".concat(H,"Y)?(").concat(H,"M)?(").concat(H,"D)?"),W="T(".concat(H,"H)?(").concat(H,"M)?(").concat(H,"S)?"),J=new RegExp("P(?:".concat(Q,"(?:").concat(W,")?)"));function K(e){if(!e||""===e)return"";var t=e.match(J).slice(1).reduce((function(e,t,n){return e[Y[n]]=parseFloat(t)||0,e}),{}),n=t.days,a=t.hours,r=t.minutes,o=t.seconds,c=o.toString(),i=r.toString(),s=24*n+a;return o<10&&(c=o.toString().padStart(2,"0")),r<10&&0!==a&&(i=i.toString().padStart(2,"0")),s?[s,i,c].join(":"):[i,c].join(":")}U.a.locale(q.a);var X=new U.a("en-US"),Z=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.video;if(!e)return r.a.createElement("div",null);var t=K(e.contentDetails?e.contentDetails.duration:null),a=n.getFormattedViewAndTime(e),o=this.props.horizontal?"horizontal":null,c=this.props.expanded?"expanded":null,i=this.props.expanded?e.snippet.description:null;return r.a.createElement(T.b,{to:{pathname:this.props.pathname,search:this.props.search}},r.a.createElement("div",{className:["video-preview",o,c].join(" ")},r.a.createElement("div",{className:"image-container"},r.a.createElement(R.a,{src:e.snippet.thumbnails.medium.url}),r.a.createElement("div",{className:"time-label"},r.a.createElement("span",null,t))),r.a.createElement("div",{className:"video-info"},r.a.createElement("div",{className:["semi-bold","show-max-two-lines",c].join(" ")},e.snippet.title),r.a.createElement("div",{className:"video-preview-metadata-container"},r.a.createElement("div",{className:"channel-title"},e.snippet.channelTitle),r.a.createElement("div",{className:"view-and-time"},a),r.a.createElement("div",{className:"show-max-two-lines"},i)))))}}],[{key:"getFormattedViewAndTime",value:function(e){var t=new Date(e.snippet.publishedAt);if(e.statistics?e.statistics.viewCount:null){var n=G(e.statistics.viewCount);return"".concat(n," views \u2022 ").concat(X.format(t))}return""}}]),n}(r.a.Component);function $(e){if(!e.videos||!e.videos.length)return r.a.createElement("div",null);var t=e.videos.map((function(e){return r.a.createElement(Z,{video:e,key:e.id,pathname:"/watch",search:"?v=".concat(e.id)})})),n=e.hideDivider?null:r.a.createElement(V.a,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,{title:e.title}),r.a.createElement("div",{className:"video-grid"},t),n)}n(330);var ee=n(64),te=n(31),ne=b("WATCH_DETAILS"),ae=function(e,t){return f(ne[m],{videoId:e,channelId:t})},re=function(e,t){return f(ne[h],{response:e,videoId:t})},oe=function(e){return f(ne[v],{response:e})},ce=b("VIDEO_DETAILS"),ie=function(e){return f(ce[h],{response:e})},se=function(e){return f(ce[v],{response:e})},ue=function(e,t){return e&&e.search?new URLSearchParams(e.search).get(t):null},le={byId:{},mostPopular:{},categories:{},byCategory:{},related:{}};function de(e,t){var n=e.items.reduce((function(e,t){return e[t.id]=t,e}),{}),a=Object.keys(n);e.hasOwnProperty("prevPageToken")&&t.mostPopular&&(a=[].concat(Object(ee.a)(t.mostPopular.items),Object(ee.a)(a)));var r={totalResults:e.pageInfo.totalResults,nextPageToken:e.nextPageToken,items:a};return Object(p.a)(Object(p.a)({},t),{},{mostPopular:r,byId:Object(p.a)(Object(p.a)({},t.byId),n)})}function pe(e,t){var n=e.items.reduce((function(e,t){return e[t.id]=t.snippet.title,e}),{});return Object(p.a)(Object(p.a)({},t),{},{categories:n})}function me(e,t,n){var a={},r={};return e.forEach((function(e,n){if(400!==e.status){var o=t[n],c=function(e){var t=e.items,n={},a={totalResults:e.pageInfo.totalResults,nextPageToken:e.nextPageToken,items:[]};return t.forEach((function(e){n[e.id]=e;var t=a.items;t&&t?t.push(e.id):a.items=[e.id]})),{byId:n,byCategory:a}}(e.result),i=c.byId,s=c.byCategory;a=Object(p.a)(Object(p.a)({},a),i),r[o]=s}})),Object(p.a)(Object(p.a)({},n),{},{byId:Object(p.a)(Object(p.a)({},n.byId),a),byCategory:Object(p.a)(Object(p.a)({},n.byCategory),r)})}function he(e,t){var n=e.find((function(e){return"youtube#videoListResponse"===e.result.kind})).result.items[0],a=function(e){var t=e.find((function(e){return"youtube#searchListResponse"===e.result.kind})).result,n=t.pageInfo,a=t.items,r=t.nextPageToken,o=a.map((function(e){return e.id.videoId}));return{totalResults:n.totalResults,nextPageToken:r,items:o}}(e);return Object(p.a)(Object(p.a)({},t),{},{byId:Object(p.a)(Object(p.a)({},t.byId),{},{[n.id]:n}),related:Object(p.a)(Object(p.a)({},t.related),{},{[n.id]:a})})}function ve(e,t){var n=e.filter((function(e){return"youtube#videoListResponse"===e.result.kind})).reduce((function(e,t){var n=t.result.items?t.result.items[0]:null;return n?(e[n.id]=n,e):e}),{});return Object(p.a)(Object(p.a)({},t),{},{byId:Object(p.a)(Object(p.a)({},t.byId),n)})}var be=function(e){return e.videos.mostPopular},fe=Object(te.a)((function(e){return e.videos.byId}),be,(function(e,t){return t&&t.items?t.items.map((function(t){return e[t]})):[]})),ye=Object(te.a)((function(e){return e.videos.categories}),(function(e){return Object.keys(e||{})})),Ee=Object(te.a)((function(e){return e.videos.byCategory}),(function(e){return e.videos.byId}),(function(e){return e.videos.categories}),(function(e,t,n){return Object.keys(e||{}).reduce((function(a,r){var o=e[r].items;return a[n[r]]=o.map((function(e){return t[e]})),a}),{})})),ge=Object(te.a)((function(e){return e.videos.categories}),(function(e){return 0!==Object.keys(e||{}).length})),Oe=Object(te.a)((function(e){return e.videos.byCategory}),(function(e){return Object.keys(e||{}).length})),je=function(e,t){return e.videos.byId[t]},ke=Object(te.a)((function(e,t){var n=e.videos.related[t];return n?n.items:[]}),(function(e){return e.videos.byId}),(function(e,t){return e?e.map((function(e){return t[e]})).filter((function(e){return e})):[]})),Ce=function(e,t,n){var a=ue(t,n),r=e.videos.byId[a];return r?r.snippet.channelId:null},we=Object(te.a)(je,(function(e){return e?e.statistics.commentCount:0})),xe=Object(te.a)([be],(function(e){return(e.items?e.items.length:0)===e.totalResults})),Ie=Object(te.a)([be],(function(e){return e.nextPageToken})),Te=n(169),Le=n(387);n(331);function Ne(e){return r.a.createElement(r.a.Fragment,null,e.children,r.a.createElement(Te.a,{onEnter:e.bottomReachedCallback},r.a.createElement("div",{className:"loader-container"},r.a.createElement(Le.a,{active:e.showLoader,inline:"centered"}))))}var Pe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.getTrendingVideos(),t=this.getVideoGridsForCategories();return r.a.createElement("div",{className:"home-content"},r.a.createElement("div",{className:"responsive-video-grid-container"},r.a.createElement(Ne,{bottomReachedCallback:this.props.bottomReachedCallback,showLoader:this.props.showLoader},r.a.createElement($,{title:"Trending",videos:e}),t)))}},{key:"getTrendingVideos",value:function(){return this.props.mostPopularVideos.slice(0,12)}},{key:"getVideoGridsForCategories",value:function(){var e=this,t=Object.keys(this.props.videosByCategory||{});return t.map((function(n,a){var o=e.props.videosByCategory[n],c=a===t.length-1;return r.a.createElement($,{title:n,videos:o,key:n,hideDivider:c})}))}}]),n}(r.a.Component);var Ve=Object(d.b)((function(e){return{videosByCategory:Ee(e),mostPopularVideos:fe(e)}}),null)(Pe),Se=n(21),Re=f.bind(null,"YOUTUBE_LIBRARY_LOADED"),De={libraryLoaded:!1},Ae=function(e){return e.api.libraryLoaded},Me=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).bottomReachedCallback=function(){a.props.videoCategoriesLoaded&&a.fetchVideosByCategory()},a.state={categoryIndex:0},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null),r.a.createElement(Ve,{bottomReachedCallback:this.bottomReachedCallback,showLoader:this.shouldShowLoader()}))}},{key:"componentDidMount",value:function(){this.props.youtubeLibraryLoaded&&this.fetchCategoriesAndMostPopularVideos()}},{key:"componentDidUpdate",value:function(e){this.props.youtubeLibraryLoaded!==e.youtubeLibraryLoaded?this.fetchCategoriesAndMostPopularVideos():this.props.videoCategories!==e.videoCategories&&this.fetchVideosByCategory()}},{key:"fetchVideosByCategory",value:function(){var e=this.state.categoryIndex,t=this.props.videoCategories.slice(e,e+3);this.props.fetchMostPopularVideosByCategory(t),this.setState((function(e){return{categoryIndex:e.categoryIndex+3}}))}},{key:"fetchCategoriesAndMostPopularVideos",value:function(){this.props.fetchMostPopularVideos(),this.props.fetchVideoCategories()}},{key:"shouldShowLoader",value:function(){return!(!this.props.videoCategoriesLoaded||!this.props.videosByCategoryLoaded)&&this.state.categoryIndex<this.props.videoCategories.length}}]),n}(r.a.Component);var Fe=Object(d.b)((function(e){return{youtubeLibraryLoaded:Ae(e),videoCategories:ye(e),videoCategoriesLoaded:ge(e),videosByCategoryLoaded:Oe(e)}}),(function(e){var t=O.request,n=E.request,a=k;return Object(Se.b)({fetchMostPopularVideos:t,fetchVideoCategories:n,fetchMostPopularVideosByCategory:a},e)}))(Me),Be=(n(332),n(392)),Ue=n(389),_e=(n(333),n(170)),qe=n.n(_e),ze=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onInputChange=function(e){a.setState({query:e.target.value})},a.onSubmit=function(){var e=encodeURI(a.state.query);a.props.history.push("/results?search_query=".concat(e))},a.state={query:""},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(x.a,{borderless:!0,className:"top-menu",fixed:"top"},r.a.createElement(x.a.Item,{header:!0,className:"logo"},r.a.createElement(T.b,{to:"/"},r.a.createElement(R.a,{src:qe.a,size:"tiny"}))),r.a.createElement(x.a.Menu,{className:"nav-container"},r.a.createElement(x.a.Item,{className:"search-input"},r.a.createElement(Be.a,{onSubmit:this.onSubmit},r.a.createElement(Be.a.Field,null,r.a.createElement(Ue.a,{placeholder:"Search",size:"small",action:"Go",value:this.state.query,onChange:this.onInputChange})))),r.a.createElement(x.a.Menu,{position:"right"},r.a.createElement(x.a.Item,null,r.a.createElement(I.a,{className:"header-icon",name:"video camera",size:"large"})),r.a.createElement(x.a.Item,null,r.a.createElement(I.a,{className:"header-icon",name:"grid layout",size:"large"})),r.a.createElement(x.a.Item,null,r.a.createElement(I.a,{className:"header-icon",name:"chat",size:"large"})),r.a.createElement(x.a.Item,null,r.a.createElement(I.a,{className:"header-icon",name:"alarm",size:"large"})),r.a.createElement(x.a.Item,{name:"avatar"},r.a.createElement(R.a,{src:"https://avatars.githubusercontent.com/u/3384470?v=4",avatar:!0})))))}}]),n}(r.a.Component),Ge=Object(L.f)(ze),Ye=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),n}(r.a.Component),He=Object(L.f)(Ye);function Qe(e){return r.a.createElement(He,null,r.a.createElement("div",{className:"app-layout"},r.a.createElement(Ge,null),e.children))}n(347);function We(e){if(!e.id)return null;var t="".concat("https://www.youtube.com/embed/").concat(e.id);return r.a.createElement("div",{className:"video-container"},r.a.createElement("div",{className:"video"},r.a.createElement("iframe",{className:"video-player",src:t,frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"video"})))}var Je=n(375),Ke=(n(348),n(349),n(391));function Xe(e){var t=null,n=0!==e.likeCount?e.likeCount:null,a=null;if(e.likeCount&&e.dislikeCount){var o=parseFloat(e.likeCount),c=parseFloat(e.dislikeCount),i=o/(o+c)*100;n=G(o),a=G(c),t=r.a.createElement(Ke.a,{percent:i,size:"tiny"})}return r.a.createElement("div",{className:"rating"},r.a.createElement("div",null,r.a.createElement(I.a,{name:"thumbs outline up"}),r.a.createElement("span",null,n)),r.a.createElement("div",null,r.a.createElement(I.a,{name:"thumbs outline down"}),r.a.createElement("span",null,a)),t)}function Ze(e){if(!e.video||!e.video.statistics)return r.a.createElement("div",null);var t=Number(e.video.statistics.viewCount).toLocaleString();return r.a.createElement("div",{className:"video-metadata"},r.a.createElement("h3",null,e.video.snippet.title),r.a.createElement("div",{className:"video-stats"},r.a.createElement("span",null,t," views"),r.a.createElement("div",{className:"video-actions"},r.a.createElement(Xe,{likeCount:e.video.statistics.likeCount,dislikeCount:e.video.statistics.dislikeCount}),r.a.createElement(Je.a,{basic:!0,icon:!0,labelPosition:"left"},r.a.createElement(I.a,{name:"share"}),"Share"),r.a.createElement(Je.a,{basic:!0,icon:!0},r.a.createElement(I.a,{name:"add circle"})),r.a.createElement(Je.a,{basic:!0,icon:!0},r.a.createElement(I.a,{name:"ellipsis horizontal"})))),r.a.createElement(V.a,null))}n(351);var $e=n(182),et=n.n($e),tt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onToggleCollapseButtonClick=function(){a.setState((function(e){return{collapsed:!e.collapsed}}))},a.state={collapsed:!0},a}return Object(s.a)(n,[{key:"render",value:function(){if(!this.props.video||!this.props.channel)return r.a.createElement("div",null);var e,t=this.getDescriptionParagraphs(),n=this.getConfig(),a=n.descriptionTextClass,o=n.buttonTitle,c=(e=this.props.video.snippet.publishedAt)?new Date(Date.parse(e)).toDateString():"",i=this.props.channel,s=this.getSubscriberButtonText(),u=i.snippet.thumbnails.medium.url,l=i.snippet.title;return r.a.createElement("div",null,r.a.createElement("div",{className:"video-info-box"},r.a.createElement(R.a,{className:"channel-image",src:u,circular:!0}),r.a.createElement("div",{className:"video-info"},r.a.createElement("div",{className:"channel-name"},l),r.a.createElement("div",{className:"video-publication-date"},c)),r.a.createElement(Je.a,{className:"subscribe",color:"youtube"},s),r.a.createElement("div",{className:"video-description"},r.a.createElement("div",{className:a},t),r.a.createElement(Je.a,{compact:!0,onClick:this.onToggleCollapseButtonClick},o))),r.a.createElement(V.a,null))}},{key:"getDescriptionParagraphs",value:function(){var e=this.props.video.snippet?this.props.video.snippet.description:null;return e?e.split("\n").map((function(e,t){return r.a.createElement("p",{key:t},r.a.createElement(et.a,null,e))})):null}},{key:"getSubscriberButtonText",value:function(){var e=this.props.channel,t=G(Number(e.statistics.subscriberCount));return"Subscribe ".concat(t)}},{key:"getConfig",value:function(){var e="collapsed",t="Show More";return this.state.collapsed||(e="expanded",t="Show Less"),{descriptionTextClass:e,buttonTitle:t}}}]),n}(r.a.Component);n(364);function nt(e){return r.a.createElement("div",{className:"comments-header"},r.a.createElement("h4",null,e.amountComments," Comments"),r.a.createElement(Je.a,{basic:!0,compact:!0,icon:!0,labelPosition:"left"},r.a.createElement(I.a,{name:"align left"}),"Sort by"))}n(365);function at(e){if(!e.comment)return r.a.createElement("div",null);var t=e.comment.snippet.topLevelComment,n=t.snippet,a=n.authorProfileImageUrl,o=n.authorDisplayName,c=n.textOriginal,i=t.snippet.likeCount;return r.a.createElement("div",{className:"comment"},r.a.createElement(R.a,{className:"user-image",src:a,circular:!0}),r.a.createElement("div",null,r.a.createElement("div",{className:"user-name"},o),r.a.createElement("span",null,c),r.a.createElement("div",{className:"comment-actions"},r.a.createElement(Xe,{likeCount:i})," ",r.a.createElement(Je.a,{size:"mini",compact:!0},"REPLY"))))}n(366);var rt=n(390);function ot(){return r.a.createElement("div",{className:"add-comment"},r.a.createElement(R.a,{className:"user-image",src:"https://via.placeholder.com/48x48",circular:!0}),r.a.createElement(Be.a,null,r.a.createElement(Be.a.TextArea,{control:rt.a,autoHeight:!0,placeholder:"Add a public comment"})))}var ct=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){if(!this.props.comments)return r.a.createElement("div",null);var e=this.props.comments.map((function(e){return r.a.createElement(at,{comment:e,key:e.id})}));return r.a.createElement("div",null,r.a.createElement(nt,{amountComments:this.props.amountComments}),r.a.createElement(ot,{key:"add-comment"}),e)}}]),n}(r.a.Component),it=(n(367),n(368),n(388));function st(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"next-up-container"},r.a.createElement("h4",null,"Up next"),r.a.createElement("div",{className:"up-next-toggle"},r.a.createElement("span",null,"Autoplay"),r.a.createElement(it.a,{toggle:!0,defaultChecked:!0}))),r.a.createElement(Z,{horizontal:!0,video:e.video,pathname:"/watch",search:"?v=".concat(e.video.id)}),r.a.createElement(V.a,null))}function ut(e){if(!e.videos||!e.videos.length)return r.a.createElement("div",{className:"related-videos"});var t=e.videos[0],n=e.videos.slice(1).map((function(e){return r.a.createElement(Z,{video:e,key:e.id,pathname:"/watch",search:"?v=".concat(e.id),horizontal:!0})}));return r.a.createElement("div",{className:"related-videos"},r.a.createElement(st,{video:t}),n)}n(369);var lt={byId:{}};function dt(e,t){var n=e.find((function(e){return"youtube#channelListResponse"===e.result.kind})),a={};if(n&&n.result.items){var r=n.result.items[0];a[r.id]=r}return Object(p.a)(Object(p.a)({},t),{},{byId:Object(p.a)(Object(p.a)({},t.byId),a)})}function pt(e,t){var n=e.find((function(e){return"youtube#channelListResponse"===e.result.kind})),a={};if(n&&n.result.items){var r=n.result.items[0];a={[r.id]:r}}return Object(p.a)(Object(p.a)({},t),{},{byId:Object(p.a)(Object(p.a)({},t.byId),a)})}var mt=function(e,t){return t?e.channels.byId[t]:null},ht=b("COMMENT_THREAD"),vt={request:function(e,t){return f(ht[m],{videoId:e,nextPageToken:t})},success:function(e,t){return f(ht[h],{response:e,videoId:t})},failure:function(e){return f(ht[v],{response:e})}},bt={byVideo:{},byId:{}};function ft(e,t,n){return yt(e.find((function(e){return"youtube#commentThreadListResponse"===e.result.kind})).result,t,n)}function yt(e,t,n){if(!e)return n;var a=e.items.reduce((function(e,t){return e[t.id]=t,e}),{}),r=n.byVideo[t]?n.byVideo[t].ids:[],o=[].concat(Object(ee.a)(r),Object(ee.a)(Object.keys(a))),c={nextPageToken:e.nextPageToken,ids:o};return Object(p.a)(Object(p.a)({},n),{},{byId:Object(p.a)(Object(p.a)({},n.byId),a),byVideo:Object(p.a)(Object(p.a)({},n.byVideo),{},{[t]:c})})}var Et=Object(te.a)((function(e,t){var n=e.comments.byVideo[t];return n?n.ids:[]}),(function(e){return e.comments.byId}),(function(e,t){return e.map((function(e){return t[e]}))})),gt=Object(te.a)((function(e,t){var n=ue(t,"v");return e.comments.byVideo[n]}),(function(e){return e?e.nextPageToken:null})),Ot=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.videoId?r.a.createElement(Ne,{bottomReachedCallback:this.props.bottomReachedCallback,showLoader:this.shouldShowLoader()},r.a.createElement("div",{className:"watch-grid"},r.a.createElement(We,{className:"video",id:this.props.videoId}),r.a.createElement(Ze,{className:"metadata",video:this.props.video}),r.a.createElement(tt,{className:"video-info-box",video:this.props.video,channel:this.props.channel}),r.a.createElement(ut,{className:"related-videos",videos:this.props.relatedVideos}),r.a.createElement(ct,{className:"comments",comments:this.props.comments,amountComments:this.props.amountComments}))):r.a.createElement("div",null)}},{key:"shouldShowLoader",value:function(){return!!this.props.nextPageToken}}]),n}(r.a.Component);var jt=Object(d.b)((function(e,t){return{relatedVideos:ke(e,t.videoId),video:je(e,t.videoId),channel:mt(e,t.channelId),comments:Et(e,t.videoId),amountComments:we(e,t.videoId)}}),null)(Ot),kt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).fetchMoreComments=function(){e.props.nextPageToken&&e.props.fetchCommentThread(e.getVideoId(),e.props.nextPageToken)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.getVideoId();return r.a.createElement(jt,{videoId:e,channelId:this.props.channelId,bottomReachedCallback:this.fetchMoreComments,nextPageToken:this.props.nextPageToken})}},{key:"componentDidMount",value:function(){this.props.youtubeLibraryLoaded&&this.fetchWatchContent()}},{key:"componentDidUpdate",value:function(e){this.props.youtubeLibraryLoaded!==e.youtubeLibraryLoaded&&this.fetchWatchContent()}},{key:"getVideoId",value:function(){return ue(this.props.location,"v")}},{key:"fetchWatchContent",value:function(){var e=this.getVideoId();e||this.props.history.push("/"),this.props.fetchWatchDetails(e,this.props.channelId)}}]),n}(r.a.Component);var Ct=Object(L.f)(Object(d.b)((function(e,t){return{youtubeLibraryLoaded:Ae(e),channelId:Ce(e,t.location,"v"),nextPageToken:gt(e,t.location)}}),(function(e){var t=ae,n=vt.request;return Object(Se.b)({fetchWatchDetails:t,fetchCommentThread:n},e)}))(kt)),wt=(n(370),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.getVideoPreviews();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null),r.a.createElement("div",{className:"video-list"},r.a.createElement(Ne,{bottomReachedCallback:this.props.bottomReachedCallback,showLoader:this.props.showLoader},e)))}},{key:"getVideoPreviews",value:function(){return this.props.videos&&this.props.videos.length&&this.props.videos[0].snippet.description?this.props.videos.map((function(e){return r.a.createElement(Z,{horizontal:!0,expanded:!0,video:e,key:e.id,pathname:"/watch",search:"?v="+e.id})})):null}}]),n}(r.a.Component)),xt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).fetchMoreVideos=function(){var t=e.props.nextPageToken;e.props.youtubeLibraryLoaded&&t&&e.props.fetchMostPopularVideos(12,!0,t)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchTrendingVideos()}},{key:"componentDidUpdate",value:function(e){e.youtubeLibraryLoaded!==this.props.youtubeLibraryLoaded&&this.fetchTrendingVideos()}},{key:"render",value:function(){var e=this.shouldShowLoader();return r.a.createElement(wt,{bottomReachedCallback:this.fetchMoreVideos,showLoader:e,videos:this.props.videos})}},{key:"fetchTrendingVideos",value:function(){this.props.youtubeLibraryLoaded&&this.props.fetchMostPopularVideos(20,!0)}},{key:"shouldShowLoader",value:function(){return!this.props.allMostPopularVideosLoaded}}]),n}(r.a.Component);var It=Object(d.b)((function(e){return{videos:fe(e),youtubeLibraryLoaded:Ae(e),allMostPopularVideosLoaded:xe(e),nextPageToken:Ie(e)}}),(function(e){var t=O.request;return Object(Se.b)({fetchMostPopularVideos:t},e)}))(xt),Tt=(n(371),b("SEARCH_FOR_VIDEOS")),Lt={request:function(e,t,n){return f(Tt[m],{searchQuery:e,nextPageToken:t,amount:n})},success:function(e,t){return f(Tt[h],{response:e,searchQuery:t})},failure:function(e,t){return f(Tt[v],{response:e,searchQuery:t})}};function Nt(e,t,n){var a=e.items.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{id:e.id.videoId})}));n.query===t&&(a=(n.results||[]).concat(a));return{totalResults:e.pageInfo.totalResults,nextPageToken:e.nextPageToken,query:t,results:a}}var Pt=function(e){return e.search.results},Vt=function(e){return e.search.nextPageToken},St=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).bottomReachedCallback=function(){e.props.nextPageToken&&e.props.searchForVideos(e.getSearchQuery(),e.props.nextPageToken,25)},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(wt,{bottomReachedCallback:this.bottomReachedCallback,showLoader:!0,videos:this.props.searchResults})}},{key:"getSearchQuery",value:function(){return ue(this.props.location,"search_query")}},{key:"componentDidMount",value:function(){this.getSearchQuery()||this.props.history.push("/"),this.searchForVideos()}},{key:"componentDidUpdate",value:function(e){e.youtubeApiLoaded!==this.props.youtubeApiLoaded&&this.searchForVideos()}},{key:"searchForVideos",value:function(){var e=this.getSearchQuery();this.props.youtubeApiLoaded&&this.props.searchForVideos(e)}}]),n}(r.a.Component);var Rt=Object(L.f)(Object(d.b)((function(e,t){return{youtubeApiLoaded:Ae(e),searchResults:Pt(e,t.location.search),nextPageToken:Vt(e,t.location.search)}}),(function(e){var t=Lt.request;return Object(Se.b)({searchForVideos:t},e)}))(St)),Dt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(Qe,null,r.a.createElement(L.c,null,r.a.createElement(L.a,{path:"/feed/trending",component:It}),r.a.createElement(L.a,{path:"/results",render:function(){return r.a.createElement(Rt,{key:e.props.location.key})}}),r.a.createElement(L.a,{path:"/watch",render:function(){return r.a.createElement(Ct,{key:e.props.location.key})}}),r.a.createElement(L.a,{path:"/",component:Fe})))}},{key:"componentDidMount",value:function(){this.loadYoutubeApi()}},{key:"loadYoutubeApi",value:function(){var e=this,t=document.createElement("script");t.src="https://apis.google.com/js/client.js",t.onload=function(){window.gapi.load("client",(function(){window.gapi.client.setApiKey("AIzaSyALvJ5K5bTju8csWtBOTnajqZVY8cum7Ow"),window.gapi.client.load("youtube","v3",(function(){e.props.youtubeLibraryLoaded()}))}))},document.body.appendChild(t)}}]),n}(a.Component);var At=Object(L.f)(Object(d.b)(null,(function(e){return Object(Se.b)({youtubeLibraryLoaded:Re},e)}))(Dt)),Mt=(n(372),Object(Se.c)({api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"YOUTUBE_LIBRARY_LOADED":return{libraryLoaded:!0};default:return e}},videos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g[h]:return de(t.response,e);case y[h]:return pe(t.response,e);case j[h]:return me(t.response,t.categories,e);case ne[h]:return he(t.response,e);case ce[h]:return ve(t.response,e);default:return e}},channels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne[h]:return dt(t.response,e);case ce[h]:return pt(t.response,e);default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht[h]:return yt(t.response,t.videoId,e);case ne[h]:return ft(t.response,t.videoId,e);default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt[h]:return Nt(t.response,t.searchQuery,e);case Tt[m]:return t.nextPageToken?e:{};default:return e}}})),Ft=n(184),Bt=n(15),Ut=n.n(Bt),_t=n(11);function qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="nextPageToken,prevPageToken,items(contentDetails/duration,id,snippet(channelId,channelTitle,publishedAt,thumbnails/medium,title),statistics/viewCount),pageInfo(totalResults)";return t&&(r+=",items/snippet/description"),Wt("GET","/youtube/v3/videos",{part:"snippet,statistics,contentDetails",chart:"mostPopular",maxResults:e,regionCode:"US",pageToken:n,fields:r,videoCategoryId:a},null)}function zt(e){return Wt("GET","/youtube/v3/videos",{part:"snippet,statistics,contentDetails",id:e,fields:"kind,items(contentDetails/duration,id,snippet(channelId,channelTitle,description,publishedAt,thumbnails/medium,title),statistics)"},null)}function Gt(e){return Wt("GET","/youtube/v3/channels",{part:"snippet,statistics",id:e,fields:"kind,items(id,snippet(description,thumbnails/medium,title),statistics/subscriberCount)"},null)}function Yt(e,t){return Wt("GET","/youtube/v3/commentThreads",{part:"id,snippet",pageToken:t,videoId:e},null)}function Ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return Wt("GET","/youtube/v3/search",{part:"id,snippet",q:e,type:"video",pageToken:t,maxResults:n},null)}function Qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return Wt("GET","/youtube/v3/search",{part:"snippet",type:"video",maxResults:t,relatedToVideoId:e},null)}function Wt(e,t,n,a){var r;if(n=function(e){for(var t in e)e[t]&&"undefined"!==e[t]||delete e[t];return e}(n),a){var o=function(e){var t={},n=e;for(var a in e){var r=e[a];if(a&&"[]"===a.substr(-2,2)){var o=a.replace("[]","");r&&(n[o]=r.split(",")),delete n[a]}}for(var c in n)if(n.hasOwnProperty(c)&&n[c])for(var i=c.split("."),s=t,u=0;u<i.length;u++){var l=i[u];u===i.length-1?s[l]=n[c]:s=s[l]=s[l]||{}}return t}(a);r=window.gapi.client.request({body:o,method:e,path:t,params:n})}else r=window.gapi.client.request({method:e,path:t,params:n});return r}var Jt=Ut.a.mark(tn),Kt=Ut.a.mark(nn),Xt=Ut.a.mark(an),Zt=Ut.a.mark(rn),$t=Ut.a.mark(on),en=Cn.bind(null,(function(){return Wt("GET","/youtube/v3/videoCategories",{part:"snippet",regionCode:"US"},null)}),E);function tn(e){var t,n;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.map((function(e){var t=wn(qt,12,!1,null,e);return Object(_t.b)(t)})),a.prev=1,a.next=4,Object(_t.a)(t);case 4:return n=a.sent,a.next=7,Object(_t.d)(C(n,e));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(_t.d)(w(a.t0));case 13:case"end":return a.stop()}}),Jt,null,[[1,9]])}function nn(e,t,n){var a;return Ut.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=qt.bind(null,e,t,n),r.next=3,Cn(a,O);case 3:case"end":return r.stop()}}),Kt)}function an(){var e,t,n,a;return Ut.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(_t.e)(g[m]);case 3:return e=r.sent,t=e.amount,n=e.loadDescription,a=e.nextPageToken,r.next=9,Object(_t.c)(nn,t,n,a);case 9:r.next=0;break;case 11:case"end":return r.stop()}}),Xt)}function rn(){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.f)(y[m],en);case 2:case"end":return e.stop()}}),Zt)}function on(){var e,t;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(_t.e)(j[m]);case 3:return e=n.sent,t=e.categories,n.next=7,Object(_t.c)(tn,t);case 7:n.next=0;break;case 9:case"end":return n.stop()}}),$t)}var cn=Ut.a.mark(ln),sn=Ut.a.mark(dn),un=Ut.a.mark(pn);function ln(e,t){var n,a;return Ut.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=[zt.bind(null,e),Qt.bind(null,e),Yt.bind(null,e)],t&&n.push(Gt.bind(null,t)),r.prev=2,r.next=5,Object(_t.a)(n.map((function(e){return Object(_t.b)(e)})));case 5:return a=r.sent,r.next=8,Object(_t.d)(re(a,e));case 8:return r.next=10,Object(_t.b)(dn,a,null===t);case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(2),r.next=16,Object(_t.d)(oe(r.t0));case 16:case"end":return r.stop()}}),cn,null,[[2,12]])}function dn(e,t){var n,a,r,o,c,i;return Ut.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.find((function(e){return"youtube#searchListResponse"===e.result.kind})),a=n.result.items.map((function(e){return e.id.videoId})),r=a.map((function(e){return zt.bind(null,e)})),t&&(o=e.find((function(e){return"youtube#videoListResponse"===e.result.kind})),(c=o.result.items)&&c.length&&r.push(Gt.bind(null,c[0].snippet.channelId))),s.prev=4,s.next=7,Object(_t.a)(r.map((function(e){return Object(_t.b)(e)})));case 7:return i=s.sent,s.next=10,Object(_t.d)(ie(i));case 10:s.next=16;break;case 12:return s.prev=12,s.t0=s.catch(4),s.next=16,Object(_t.d)(se(s.t0));case 16:case"end":return s.stop()}}),sn,null,[[4,12]])}function pn(){var e,t,n;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(_t.e)(ne[m]);case 3:return e=a.sent,t=e.videoId,n=e.channelId,a.next=8,Object(_t.c)(ln,t,n);case 8:a.next=0;break;case 10:case"end":return a.stop()}}),un)}var mn=Ut.a.mark(vn),hn=Ut.a.mark(bn);function vn(e,t){var n;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Yt.bind(null,e,t),a.next=3,Cn(n,vt,e);case 3:case"end":return a.stop()}}),mn)}function bn(){var e,t,n;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(_t.e)(ht[m]);case 3:return e=a.sent,t=e.videoId,n=e.nextPageToken,a.next=8,Object(_t.c)(vn,t,n);case 8:a.next=0;break;case 10:case"end":return a.stop()}}),hn)}var fn=Ut.a.mark(En),yn=Ut.a.mark(gn);function En(e,t,n){var a;return Ut.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=Ht.bind(null,e,t,n),r.next=3,Cn(a,Lt,e);case 3:case"end":return r.stop()}}),fn)}function gn(){var e,t,n,a;return Ut.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(_t.e)(Tt[m]);case 3:return e=r.sent,t=e.searchQuery,n=e.amount,a=e.nextPageToken,r.next=9,Object(_t.c)(En,t,a,n);case 9:r.next=0;break;case 11:case"end":return r.stop()}}),yn)}var On=Ut.a.mark(kn),jn=Ut.a.mark(Cn);function kn(){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.a)([Object(_t.c)(an),Object(_t.c)(rn),Object(_t.c)(on),Object(_t.c)(pn),Object(_t.c)(bn),Object(_t.c)(gn)]);case 2:case"end":return e.stop()}}),On)}function Cn(e,t){var n,a,r,o,c=arguments;return Ut.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(n=c.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=c[r];return i.prev=1,i.next=4,Object(_t.b)(e);case 4:return o=i.sent,i.next=7,Object(_t.d)(t.success.apply(t,[o.result].concat(a)));case 7:i.next=13;break;case 9:return i.prev=9,i.t0=i.catch(1),i.next=13,Object(_t.d)(t.failure.apply(t,[i.t0].concat(a)));case 13:case"end":return i.stop()}}),jn,null,[[1,9]])}function wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(){var t=function(e){return e};return e.apply(void 0,n).then(t,t)}}var xn=function(){var e=Object(Ft.a)(),t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.d,n=Object(Se.e)(Mt,t(Object(Se.a)(e)));return e.run(kn),n}();c.a.render(r.a.createElement(d.a,{store:xn},r.a.createElement(T.a,null,r.a.createElement(At,null))),document.getElementById("root"))}},[[197,1,2]]]);
//# sourceMappingURL=main.b1c018b3.chunk.js.map